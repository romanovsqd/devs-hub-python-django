{% extends "base.html" %}

{% block title %}
  {% if is_owner %}Мои проекты{% else %}Проекты {{ user.username }}{% endif %}
{% endblock title %}

{% block content %}
  <div class="py-4 lg:py-8 flex flex-1">
    <div class="container mx-auto px-4 flex flex-col flex-1">

      <!-- Title -->
      <div class="mb-4">
        {% include "includes/title.html" with text="Проекты" title=user.username only %}
      </div>

      <!-- Create project link -->
      {% if request.user == user %}
        <div class="w-full lg:max-w-3xl mx-auto mb-4">
          <a href="{% url "project_create" %}" class="inline-block w-full text-center rounded-full py-4 px-6 text-md font-medium warning">Добавить Проект</a>
        </div>
      {% endif %}

      <!-- Search form -->
      <div class="w-full lg:max-w-3xl mx-auto mb-4">
        {% include "includes/search_form.html" with placeholder="Сервис сокращения ссылок на FastAPI" request=request only %}
      </div>

      <!-- Project list -->
      <div class="mb-auto">
        {% include "includes/project_list.html" with projects=user_projects user=request.user only %}
      </div>

      <!-- Pagination -->
      {% include "includes/pagination.html" with page_obj=user_projects query=query sort_by=sort_by only %}

    </div>
  </div>

{% endblock content %}
